@{
    ViewData["Title"] = "ChartJs";
}

@section styles {

    <link href="~/lib/Chart.js/Chart.css" rel="stylesheet" />
}

<!-- PIE CHART -->
<div class="card card-danger">
    <div class="card-header">
        <h3 class="card-title">Pie Chart</h3>

        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
        </div>
    </div>
    <div class="card-body">
        <canvas id="pieChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
    </div>
    <!-- /.card-body -->
</div>
<!-- /.card -->
<!-- BAR CHART -->
<div class="card card-success">
    <div class="card-header">
        <h3 class="card-title">Bar Chart</h3>

        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
        </div>
    </div>
    <div class="card-body">
        <div class="chart">
            <canvas id="barChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
        </div>
    </div>
    <!-- /.card-body -->
</div>
<!-- /.card -->
<!-- BAR CHART -->
<div class="card card-success">
    <div class="card-header">
        <h3 class="card-title">Bar Chart</h3>

        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
        </div>
    </div>
    <div class="card-body">
        <div class="chart">
            <canvas id="barChart2" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
        </div>
    </div>
    <!-- /.card-body -->
</div>
<!-- /.card -->

@section scripts {

    <script src="~/lib/Chart.js/Chart.min.js"></script>
    <script src="~/lib/Chart.js/chartjs-plugin-datalabels.js"></script>

    <script>
        var defaults = {
            global: {
                // example font
                defaultFontFamily: 'IRANSans'
            }
        };
        var areaChartData = {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [
                {
                    label: 'Digital Goods',
                    backgroundColor: 'rgba(60,141,188,0.9)',
                    borderColor: 'rgba(60,141,188,0.8)',
                    pointRadius: false,
                    pointColor: '#3b8bba',
                    pointStrokeColor: 'rgba(60,141,188,1)',
                    pointHighlightFill: '#fff',
                    pointHighlightStroke: 'rgba(60,141,188,1)',
                    data: [28, 48, 40, 19, 86, 27, 90]
                },
                {
                    label: 'Electronics',
                    backgroundColor: 'rgba(210, 214, 222, 1)',
                    borderColor: 'rgba(210, 214, 222, 1)',
                    pointRadius: false,
                    pointColor: 'rgba(210, 214, 222, 1)',
                    pointStrokeColor: '#c1c7d1',
                    pointHighlightFill: '#fff',
                    pointHighlightStroke: 'rgba(220,220,220,1)',
                    data: [65, 59, 80, 81, 56, 55, 40]
                },
            ]
        }

        var barChart2Data = {
            labels: ['حمل', 'ثور', 'جوزا', 'سرطان', 'اسد', 'سنبله', 'میزان', 'عقرب', 'قوس', 'جدی', 'دلو', 'حوت'],
            datasets: [
                {
                    label: 'تعداد کارمندان',
                    backgroundColor: '#f56954',
                    borderColor: '#f56954',
                    pointRadius: false,
                    pointColor: '#3b8bba',
                    pointStrokeColor: '#f56954',
                    pointHighlightFill: '#fff',
                    pointHighlightStroke: '#f56954',
                    data: [28, 48, 40, 19, 86, 27, 90, 40, 19, 86, 27, 90]
                },
                {
                    label: 'حضور',
                    backgroundColor: '#00a65a',
                    borderColor: '#00a65a',
                    pointRadius: false,
                    pointColor: '#00a65a',
                    pointStrokeColor: '#c1c7d1',
                    pointHighlightFill: '#fff',
                    pointHighlightStroke: '#00a65a',
                    data: [65, 59, 80, 81, 56, 55, 40, 80, 81, 56, 55, 40]
                },
            ]
        }

        var donutData = {
            labels: [
                'Chrome',
                'IE',
                'FireFox',
                'Safari',
                'Opera',
                'Navigator',
            ],
            datasets: [
                {
                    data: [700, 500, 400, 600, 300, 100],
                    backgroundColor: ['#f56954', '#00a65a', '#f39c12', '#00c0ef', '#3c8dbc', '#d2d6de'],
                }
            ]
        }

        //-------------
        //- PIE CHART -
        //-------------
        // Get context with jQuery - using jQuery's .get() method.
        var pieChartCanvas = $('#pieChart').get(0).getContext('2d')
        var pieData = donutData;
        var pieOptions = {
            maintainAspectRatio: false,
            responsive: true,
        }
        //Create pie or douhnut chart
        // You can switch between pie and douhnut using the method below.
        var pieChart = new Chart(pieChartCanvas, {
            type: 'pie',
            data: pieData,
            options: pieOptions
        })

        //-------------
        //- BAR CHART -
        //-------------
        var barChartCanvas = $('#barChart').get(0).getContext('2d')
        var barChartData = jQuery.extend(true, {}, areaChartData)
        var temp0 = areaChartData.datasets[0]
        var temp1 = areaChartData.datasets[1]
        barChartData.datasets[0] = temp1
        barChartData.datasets[1] = temp0

        var barChartOptions = {
            responsive: true,
            legend: {
                //reverse: true,
                //rtl: true,
                //textDirection: 'rtl',
            },
            maintainAspectRatio: false,
            datasetFill: false
        }

        var barChart = new Chart(barChartCanvas, {
            type: 'bar',
            data: barChartData,
            options: barChartOptions
        })


        //-------------
        //- BAR CHART -
        //-------------
        var barChart2Canvas = $('#barChart2').get(0).getContext('2d')
        

        var barChart2Options = {
            responsive: true,
            plugins: {
                // Change options for ALL labels of THIS CHART
                datalabels: {
                    color: '#fff',
                    anchor: 'center',
                    align: 'right',
                    clamp: true,
                }
            },
            legend: {
                display: true,
                labels: {
                    fontFamily: 'IRANSans'
                },
                reverse: true,
                rtl: true,
                textDirection: 'rtl'
            },
            scales: {
                xAxes: [{
                    ticks: {
                        reverse: true,
                        fontFamily: "IRANSans",
                    }
                }],
                yAxes: [{
                    display: true,
                    position: 'right',
                    ticks: {
                        beginAtZero: true
                    }
                }],
            },
            tooltips: {
                titleFontFamily: 'IRANSans',
                titleAlign: 'right',
                bodyAlign: 'right',
                bodyFontFamily: 'IRANSans'
            },
            maintainAspectRatio: false,
            datasetFill: false
        }

        var barChart2 = new Chart(barChart2Canvas, {
            type: 'bar',
            plugins: [{
                ChartDataLabels
            }],
            data: barChart2Data,
            options: barChart2Options,
            defaults: defaults
        })

    </script>
}